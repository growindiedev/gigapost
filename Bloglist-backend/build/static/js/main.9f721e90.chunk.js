(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{122:function(e,t,a){e.exports=a(155)},155:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(60),c=a.n(o),l=a(9),i=a(16),u=a(3),s=a.n(u),m=a(7),d=a(36),p=a.n(d),g="/api/blogs",f=null,h={getAll:function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(g);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:f}},e.next=3,p.a.post(g,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.put("".concat(g,"/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteBlog:function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:f}},e.next=3,p.a.delete("".concat(g,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){f="bearer ".concat(e)},addComment:function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:f}},e.next=3,p.a.post("".concat(g,"/").concat(t,"/comments"),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},b=a(41),E=a(30),v=function(e,t){return function(){var a=Object(m.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.create(e);case 2:r=a.sent,r=Object(b.a)(Object(b.a)({},r),{},{user:{name:t.name}}),n({type:"NEW_BLOG",data:r});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},w=function(e,t){return function(){var a=Object(m.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.update(e,t);case 2:n({type:"LIKE_BLOG",data:{id:e}});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(m.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.deleteBlog(e);case 2:a({type:"DELETE_BLOG",data:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now: ",e),console.log("action",t),t.type){case"INIT_BLOGS":return t.data;case"NEW_BLOG":return[].concat(Object(E.a)(e),[t.data]);case"LIKE_BLOG":var a=t.data.id,n=e.find((function(e){return e.id===a})),r=Object(b.a)(Object(b.a)({},n),{},{likes:n.likes+1});return e.map((function(e){return e.id!==a?e:r}));case"DELETE_BLOG":var o=t.data.id;return e.filter((function(e){return e.id!==o}));case"NEW_COMMENT":var c=t.data.id,l=t.data.postId,i=t.data.title,u=e.find((function(e){return e.id===l})),s={title:i,id:c},m=Object(b.a)(Object(b.a)({},u),{},{comments:[].concat(Object(E.a)(u.comments),[s])});return e.map((function(e){return e.id!==l?e:m}));default:return e}},O=a(44),j=a(52),S=a(57),k=a(50),C=a.n(k),R=a(51),z=a.n(R),_=a(178),I=a(163),L=a(115),T=a(164),A=a(165),N=a(166),B=a(177),G=a(167),U=function(e){var t=e.handleLogin,a=Object(O.a)({initialValues:{username:"",password:""},onSubmit:function(e,a){var n=a.resetForm;try{t(e.username,e.password),n()}catch(r){console.error(r)}}});return r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement(_.b,{spacing:3,bg:"gray.200",w:"350px",p:5,boxShadow:"m",rounded:"lg"},r.a.createElement(I.a,null,r.a.createElement(C.a,{animation:z.a,size:50,strokeColor:"inherit"})),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,null,r.a.createElement(A.a,{children:r.a.createElement(j.b,null)}),r.a.createElement(N.a,{type:"text",name:"username",placeholder:"username","area-label":"username",onChange:a.handleChange,value:a.values.username,bg:"white"}))),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,null,r.a.createElement(A.a,{children:r.a.createElement(S.a,null)}),r.a.createElement(N.a,{type:"password",placeholder:"Password","aria-label":"Password",name:"password",onChange:a.handleChange,value:a.values.password,bg:"white"}))),r.a.createElement(B.a,{type:"submit",boxShadow:"sm",_hover:{boxShadow:"md"},_active:{boxShadow:"lg"},width:"100"},"Login"),r.a.createElement(G.a,{fontSize:"sm",textAlign:"center",color:"gray.400"},"Created by Jarryingnut \ud83d\udc68\u200d\ud83d\udcbb")))},W=a(179);var M=function(e){var t=Object(l.c)((function(e){return e.notification}));return t&&((null===t||void 0===t?void 0:t.notification)||(null===t||void 0===t?void 0:t.error))?r.a.createElement(W.a,Object.assign({status:(null===t||void 0===t?void 0:t.error)?"error":"info"},e,{variant:"solid",padding:"1.5",borderRadius:"md"}),r.a.createElement(W.b,null),(null===t||void 0===t?void 0:t.notification)?null===t||void 0===t?void 0:t.notification:null===t||void 0===t?void 0:t.error):null},P={notification:null},q=function(e,t){return function(){var a=Object(m.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"SET_MESSAGE",data:{message:e,delay:setTimeout((function(){n(V())}),1e3*t)}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},V=function(){return{type:"REMOVE_MESSAGE"}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now: ",e),console.log("action",t),t.type){case"SET_MESSAGE":return clearTimeout(e.delay),t.data.message;case"REMOVE_MESSAGE":return P;default:return e}},J={login:function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D={getAll:function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),registerUser:function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=JSON.parse(window.localStorage.getItem("loggedInBloglistUser")),H=K||null,Q=function(e,t){return function(){var a=Object(m.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.login({username:e,password:t});case 2:r=a.sent,console.log({user:r}),console.log("called"),n({type:"LOGIN",data:r});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},X=function(e,t,a){return function(){var n=Object(m.a)(s.a.mark((function n(r){var o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.registerUser({username:e,password:t,name:a});case 2:o=n.sent,console.log({user:o}),console.log("called"),r({type:"REGISTER_USER",data:o});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now: ",e),console.log("action",t),t.type){case"LOGIN":case"REGISTER_USER":return t.data;case"LOGOUT":return null;default:return e}},Z=a(169),$=function(){var e=Object(l.b)(),t=Object(i.g)(),a=function(){var a=Object(m.a)(s.a.mark((function a(n,r){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n&&""!==n&&r&&""!==r){a.next=4;break}return console.log("something went wrong"),e(q({error:"Please fill in username and password"},5)),a.abrupt("return");case 4:return a.prev=4,a.next=7,e(Q(n,r));case 7:t.push("/"),e(q({notification:"".concat(n," succesfully logged in")},5)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),e(q({error:"wrong username or password"},5)),console.error(a.t0);case 15:case"end":return a.stop()}}),a,null,[[4,11]])})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.c,{justify:"center",align:"center",w:"100%",h:"93vh",spacing:"3",color:"gray.600"},r.a.createElement(Z.a,{mb:"6",size:"lg"},"Log in to Application"),r.a.createElement(U,{handleLogin:a}),r.a.createElement(M,{w:"350px"})))},ee=a(6),te=a(170),ae=Object(n.forwardRef)((function(e,t){var a=e.btnText,o=e.children,c=Object(n.useState)(!1),l=Object(ee.a)(c,2),i=l[0],u=l[1],s={display:i?"none":""},m={display:i?"":"none"},d=function(){u(!i)};return Object(n.useImperativeHandle)(t,(function(){return{toggleVisibility:d}})),r.a.createElement(_.c,null,r.a.createElement(B.a,{onClick:d,size:"sm",_hover:{boxShadow:"md"},_active:{boxShadow:"lg"},borderRadius:"sm",width:"20",style:s},a),r.a.createElement(te.a,{style:m},o,r.a.createElement(B.a,{onClick:d,size:"sm",_hover:{boxShadow:"md"},_active:{boxShadow:"lg"},borderRadius:"sm",width:"20"},"Cancel")))}));ae.displayName="Togglable";var ne=ae,re=a(171),oe=a(105),ce=a(71),le=a(104),ie=function(e){var t=e.createBlog,a=Object(O.a)({initialValues:{title:"",author:"",content:"",url:"",likes:0},onSubmit:function(e,a){var n=a.resetForm;try{var r={title:e.title,author:e.author,content:e.content,url:e.url,likes:e.likes};t(r),n()}catch(o){console.error(o)}}});return r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement(_.c,{w:"xl",spacing:"2",justify:"left",p:"10"},r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,{size:"sm"},r.a.createElement(A.a,{children:r.a.createElement(le.a,null)}),r.a.createElement(N.a,{placeholder:"Title",type:"text",name:"title",onChange:a.handleChange,value:a.values.title}))),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,{size:"sm"},r.a.createElement(A.a,{children:r.a.createElement(ce.b,null)}),r.a.createElement(N.a,{placeholder:"Author",type:"text",name:"author",onChange:a.handleChange,value:a.values.author}))),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,{size:"sm"},r.a.createElement(re.a,{placeholder:"\ud83d\udcdd Content",type:"text",name:"content",onChange:a.handleChange,value:a.values.content}))),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,{size:"sm"},r.a.createElement(A.a,{children:r.a.createElement(oe.a,null)}),r.a.createElement(N.a,{placeholder:"URL",type:"text",name:"url",onChange:a.handleChange,value:a.values.url}))),r.a.createElement(B.a,{type:"submit",size:"sm",_hover:{boxShadow:"md"},_active:{boxShadow:"lg"},borderRadius:"sm",width:"20"},"Create")))},ue=a(116),se=a(19),me=function(e){var t=e.blog,a=Object(ue.a)(e,["blog"]);return r.a.createElement(te.a,Object.assign({p:4,color:"gray.600",shadow:"md",borderWidth:"2px",width:"xl"},a,{borderRadius:"md",_hover:{bgGradient:"linear(to-r, green.100, blue.100, gray.200)"}}),r.a.createElement(se.b,{to:"/blogs/".concat(t.id)},r.a.createElement(Z.a,{fontSize:"l",fontWeight:"medium"},t.title),r.a.createElement(te.a,null,r.a.createElement(G.a,{mt:1.5,fontSize:"sm",color:"gray.500"},"Author: ".concat(t.author)))))},de=function(){var e=Object(l.c)((function(e){return e.blogs})),t=Object(l.c)((function(e){return e.login})),a=Object(l.b)(),n=r.a.createRef(),o=function(){var e=Object(m.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.current.toggleVisibility(),r.title&&r.author&&r.url){e.next=5;break}return a(q({error:"Please fill in all the fields"},5)),e.abrupt("return");case 5:a(v(r,t)),a(q({notification:"A new blog ".concat(r.title," by ").concat(r.author," added")},5)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(q({error:"No nooo! ".concat(e.t0)},5)),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(_.c,{spacing:"3",p:"10"},r.a.createElement(M,{w:"xl"}),r.a.createElement(_.b,{align:"flex-start",justify:"center",w:"xl",py:"5",spacing:"3"},r.a.createElement(Z.a,{fontSize:"xx-large",textColor:"gray.700",p:"1.5"},r.a.createElement(C.a,{animation:z.a,size:50,strokeColor:"inherit"}),"Gigapost"),r.a.createElement(ne,{btnText:"New Blog",ref:n},r.a.createElement(ie,{createBlog:o}))),r.a.createElement(_.c,{spacing:"3"},e.sort((function(e,t){return t.likes-e.likes})).map((function(e){return r.a.createElement(me,{key:e.id,blog:e})}))))},pe=a(172),ge=function(){var e=Object(l.c)((function(e){return e.users}));return r.a.createElement(_.c,{p:"10",mx:"auto",width:"xl",color:"gray.600"},r.a.createElement(Z.a,{size:"lg",p:"4",fontWeight:"semibold"},"Users"),r.a.createElement(te.a,{p:4,shadow:"md",borderWidth:"1px",width:"lg",borderRadius:"md",mx:"auto"},r.a.createElement(pe.a,{size:"md"},r.a.createElement(pe.b,null,"Users and number of blogs created by them"),r.a.createElement(pe.f,null,r.a.createElement(pe.g,null,r.a.createElement(pe.e,null,"Username"),r.a.createElement(pe.e,null,"Blogs Created"))),r.a.createElement(pe.c,null,null===e||void 0===e?void 0:e.map((function(e){var t;return r.a.createElement(pe.g,{key:null===e||void 0===e?void 0:e.id,color:"gray.500",_hover:{color:"blue.500",fontWeight:"medium"}},r.a.createElement(pe.d,null,r.a.createElement(se.b,{to:"/users/".concat(e.id)},null===e||void 0===e?void 0:e.username)),r.a.createElement(pe.d,null,null===e||void 0===e||null===(t=e.blogs)||void 0===t?void 0:t.length))}))))))},fe=function(){var e,t=Object(l.c)((function(e){return e.users})),a=Object(i.h)("/users/:id"),n=a?null===t||void 0===t?void 0:t.find((function(e){return e.id===a.params.id})):null;return n?r.a.createElement(_.c,{w:"xl",padding:"10",spacing:"5",mx:"auto",color:"gray.600"},r.a.createElement(Z.a,{size:"lg"},n.name),r.a.createElement(pe.a,{size:"sm"},r.a.createElement(pe.b,null,"These are the blogs added by ".concat(n.name)),r.a.createElement(pe.f,null,r.a.createElement(pe.g,null,r.a.createElement(pe.e,null,"Added blogs"))),r.a.createElement(pe.c,null,0===n.blogs.length?r.a.createElement(pe.g,null,r.a.createElement(pe.d,null,"No blogs added yet.")):null===(e=n.blogs)||void 0===e?void 0:e.map((function(e){return r.a.createElement(pe.g,null,r.a.createElement(pe.d,{key:e.id,fontSize:"md"},e.title))}))))):null},he=function(e){var t=["blue","cyan","gray","green","orange","pink","purple","red","teal","yellow","blackAlpha","linkedin","facebook","messenger","whatsapp","twitter","telegram"];return r.a.createElement(W.a,Object.assign({},e,{colorScheme:t[Math.floor(Math.random()*t.length)],fontStyle:"oblique"}),e.comment.title||e.comment)},be=a(106),Ee=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.blogs})),a=Object(i.h)("/blogs/:id"),n=a?null===t||void 0===t?void 0:t.find((function(e){return e.id===a.params.id})):null,o=Object(O.a)({initialValues:{comment:""},onSubmit:function(t,a){var r=a.resetForm;try{var o={title:t.comment},c=n.id;e(function(e,t){return function(){var a=Object(m.a)(s.a.mark((function a(n){var r,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e,a.next=3,h.addComment(e,t);case 3:o=a.sent,o=Object(b.a)(Object(b.a)({},o),{},{postId:r}),n({type:"NEW_COMMENT",data:o});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(c,o)),r()}catch(l){console.error(l)}}});return r.a.createElement("form",{onSubmit:o.handleSubmit},r.a.createElement(_.a,{w:"lg"},r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,{size:"sm"},r.a.createElement(A.a,{children:r.a.createElement(be.a,null)}),r.a.createElement(N.a,{placeholder:"comment",type:"text",name:"comment",onChange:o.handleChange,value:o.values.comment}))),r.a.createElement(B.a,{type:"submit",size:"sm",_hover:{boxShadow:"md"},_active:{boxShadow:"lg"},borderRadius:"sm",bg:"gray.200"}," ",r.a.createElement(j.a,null))))},ve=a(107),we=a(173),ye=a(168),xe=function(){var e,t,a=Object(l.c)((function(e){return e.blogs})),n=Object(l.c)((function(e){return e.login})),o=Object(l.b)(),c=Object(i.g)(),u=Object(i.h)("/blogs/:id"),d=u?a.find((function(e){return e.id===u.params.id})):null,p=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n,r,c,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=d.id,n=d.author,r=d.content,c=d.url,l=d.title,i={user:(null===(t=d.user)||void 0===t?void 0:t.id)||d.user,likes:d.likes+1,title:l,content:r,author:n,url:c},o(w(a,i))}catch(u){console.error(u),o(q({error:"No nooo! ".concat(u)},5))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.confirm("Remove ".concat(a.title," by ").concat(a.author))&&(o(y(t)),c.push("/blogs"),o(q({notification:"Successfully removed ".concat(a.title," by ").concat(a.author)},5)))}catch(n){console.error(n),o(q({error:"No nooo! ".concat(n)},5))}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return d?r.a.createElement(_.c,{w:"xl",p:"10",mx:"auto",color:"gray.600"},r.a.createElement(_.b,{w:"xl",borderWidth:"2px",borderRadius:"md",overflow:"hidden",py:"5",px:"6",spacing:"2.5",boxShadow:"md",borderColor:"gray.200"},r.a.createElement(Z.a,{size:"lg"},d.title),r.a.createElement(Z.a,{size:"sm",color:"gray.500"},d.author),r.a.createElement(G.a,{textAlign:"justify"},d.content),r.a.createElement(G.a,{as:"a",target:"_",href:"https://".concat(d.url),_hover:{color:"blue.300"},color:"blue.500",fontSize:"xl",fontWeight:"medium"},d.url),r.a.createElement(_.a,{spacing:"2",color:"orange.500",fontSize:"sm"},r.a.createElement(G.a,null,"Added by  ",r.a.createElement(we.a,{colorScheme:"orange"}," ","".concat(null===(e=d.user)||void 0===e?void 0:e.name))),r.a.createElement(G.a,null,"\u2022"),r.a.createElement(G.a,{fontWeight:"medium",color:"orange.400"},d.likes),r.a.createElement(ye.a,{cursor:"grab",_active:{boxShadow:"lg"},size:"md",as:ve.a,onClick:p})),(null===(t=d.user)||void 0===t?void 0:t.username)===(null===n||void 0===n?void 0:n.username)&&r.a.createElement(B.a,{size:"xs",_hover:{boxShadow:"md",bg:"red.200"},_active:{boxShadow:"lg"},borderRadius:"sm",width:"20",onClick:function(){return g(d.id,d)},bg:"red.200",p:"3"},"Remove")),r.a.createElement(Z.a,{size:"sm",pt:"10",pb:"4",fontWeight:"semibold",textAlign:"left"},r.a.createElement(ye.a,{as:ce.a})," Comments"),r.a.createElement(Ee,null),d.comments&&0!==d.comments.length?r.a.createElement("ul",null,d.comments.map((function(e){return r.a.createElement(he,{key:e.id,comment:e,p:"1.5",variant:"left-accent",w:"lg",m:"2.5",borderRadius:"md",size:"sm",fontSize:"sm"})}))):r.a.createElement(he,{comment:"Add the first comment for this blog",p:"1.4",variant:"solid",w:"lg",m:"2",borderRadius:"md"})):null},Oe=a(108),je=function(e){var t=e.handleRegister,a=Object(l.b)(),n=Object(O.a)({initialValues:{username:"",password:"",confirmPassword:"",name:""},onSubmit:function(e,n){var r=n.resetForm;if(e.password===e.confirmPassword)try{t(e.username,e.password,e.name),r()}catch(o){console.error(o)}else a(q({error:"Passwords do not watch"},5))}});return r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(_.b,{spacing:3,bg:"gray.200",w:"350px",p:5,boxShadow:"m",rounded:"lg"},r.a.createElement(I.a,null,r.a.createElement(C.a,{animation:z.a,size:50,strokeColor:"gray"})),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,null,r.a.createElement(A.a,{children:r.a.createElement(Oe.a,null)}),r.a.createElement(N.a,{type:"text",name:"name",placeholder:"Name","area-label":"name",onChange:n.handleChange,value:n.values.name,bg:"white"}))),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,null,r.a.createElement(A.a,{children:r.a.createElement(j.b,null)}),r.a.createElement(N.a,{type:"text",name:"username",placeholder:"username","area-label":"username",onChange:n.handleChange,value:n.values.username,bg:"white"}))),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,null,r.a.createElement(A.a,{children:r.a.createElement(S.a,null)}),r.a.createElement(N.a,{type:"password",placeholder:"Password","aria-label":"Password",name:"password",onChange:n.handleChange,value:n.values.password,bg:"white"}))),r.a.createElement(L.a,{isRequired:!0},r.a.createElement(T.a,null,r.a.createElement(A.a,{children:r.a.createElement(S.a,null)}),r.a.createElement(N.a,{type:"password",name:"confirmPassword",placeholder:"confirm password","aria-label":"confirmPassword",onChange:n.handleChange,value:n.values.confirmPassword,bg:"white"}))),r.a.createElement(B.a,{type:"submit",boxShadow:"sm",_hover:{boxShadow:"md"},_active:{boxShadow:"lg"},width:"100"},"Sign up"),r.a.createElement(G.a,{fontSize:"sm",textAlign:"center",color:"gray.400"},"Created by Jarryingnut \ud83d\udc68\u200d\ud83d\udcbb")))},Se=function(){var e=Object(l.b)(),t=Object(i.g)(),a=function(){var a=Object(m.a)(s.a.mark((function a(n,r,o){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n&&""!==n&&r&&""!==r&&""!==o){a.next=4;break}return console.log("something went wrong"),e(q({error:"Please fill in username and password"},5)),a.abrupt("return");case 4:return a.prev=4,a.next=7,e(X(n,r,o));case 7:t.push("/"),e(q({notification:"".concat(n," succesfully registered")},5)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),e(q({error:"user already exists or something went wrong"},5)),console.error(a.t0);case 15:case"end":return a.stop()}}),a,null,[[4,11]])})));return function(e,t,n){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.c,{justify:"center",align:"center",w:"100%",h:"93vh",spacing:"3",color:"gray.600"},r.a.createElement(Z.a,{mb:"5",size:"lg",fontWeight:"semibold"},"Create a new account"),r.a.createElement(je,{handleRegister:a}),r.a.createElement(M,{w:"350px"})))},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now: ",e),console.log("action",t),t.type){case"INIT_USERS":return t.data;default:return e}},Ce=a(174),Re=a(180),ze=a(175),_e=a(103),Ie=function(){var e=Object(l.c)((function(e){return e.login})),t=Object(l.b)(),a=Object(i.g)(),n=function(){window.localStorage.removeItem("loggedInBloglistUser"),t({type:"LOGOUT"}),a.push("/")};return e?r.a.createElement(Ce.a,{align:"center",px:"40",bg:"gray.200",py:"1.5",color:"gray.600"},r.a.createElement(te.a,{px:"2"},r.a.createElement(se.c,{to:"/"},r.a.createElement(Re.a,{w:"140px",src:"/gigapost.png",alt:"Logo"}))),r.a.createElement(te.a,{px:"2"},r.a.createElement(G.a,{size:"sm",fontWeight:"semibold",_hover:{color:"orange.400"}},r.a.createElement(se.c,{to:"/blogs"},"Blogs"))),r.a.createElement(te.a,{px:"2"},r.a.createElement(G.a,{size:"sm",fontWeight:"semibold",_hover:{color:"orange.400"}},r.a.createElement(se.c,{to:"/users"},"Users"))),r.a.createElement(ze.a,null),r.a.createElement(Ce.a,{alignItems:"center"},r.a.createElement(G.a,{size:"sm",fontWeight:"semibold",mr:"4"},"".concat(e.name," logged in ")),r.a.createElement(B.a,{px:"2",colorScheme:"blue",onClick:n,size:"sm",variant:"outline",borderRadius:"sm"},"Logout"))):r.a.createElement(Ce.a,{align:"center",px:"20",bg:"gray.200",py:"1.5"},r.a.createElement(te.a,{px:"2"},r.a.createElement(se.c,{to:"/"},r.a.createElement(Re.a,{w:"140px",src:"/gigapost.png",alt:"Logo",size:"l"}))),r.a.createElement(ze.a,null),r.a.createElement(_e.a,{variant:"outline",spacing:"6",size:"sm",colorScheme:"telegram",border:"none",color:"gray.600"},r.a.createElement(B.a,{onClick:function(){window.localStorage.removeItem("loggedInBloglistUser"),t({type:"LOGOUT"}),a.push("/signup")},borderRadius:"sm"},"Sign Up"),r.a.createElement(B.a,{onClick:n,borderRadius:"sm"},"Log in")))},Le=function(){var e=Object(l.b)();Object(n.useEffect)((function(){e(function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getAll();case 2:a=e.sent,t({type:"INIT_BLOGS",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAll();case 2:a=e.sent,t({type:"INIT_USERS",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(l.c)((function(e){return e.login}));return Object(n.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("loggedInBloglistUser"));if(e){var t=e;h.setToken(null===t||void 0===t?void 0:t.token)}}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("loggedInBloglistUser",JSON.stringify(t)),h.setToken(null===t||void 0===t?void 0:t.token)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,null),r.a.createElement("main",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/users/:id",component:fe}),r.a.createElement(i.b,{path:"/blogs/:id",component:xe}),r.a.createElement(i.b,{path:"/login",exact:!0,render:function(){return t?r.a.createElement(i.a,{to:"/"}):r.a.createElement($,null)}}),r.a.createElement(i.b,{path:"/signup",exact:!0,render:function(){return t?r.a.createElement(i.a,{to:"/"}):r.a.createElement(Se,null)}}),r.a.createElement(i.b,{path:"/users",exact:!0,component:ge}),r.a.createElement(i.b,{path:"/",render:function(){return t?r.a.createElement(de,null):r.a.createElement(i.a,{to:"/login"})}}))))},Te=a(47),Ae=a(109),Ne=a(110),Be=Object(Te.combineReducers)({blogs:x,notification:F,login:Y,users:ke}),Ge=Object(Te.createStore)(Be,Object(Ne.composeWithDevTools)(Object(Te.applyMiddleware)(Ae.a))),Ue=a(176);c.a.render(r.a.createElement(Ue.a,null,r.a.createElement(l.a,{store:Ge},r.a.createElement(se.a,null,r.a.createElement(Le,null)))),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.9f721e90.chunk.js.map